# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç PsyBooking Bot

–≠—Ç–æ –∫—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –∑–∞ 10 –º–∏–Ω—É—Ç.

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (1 –º–∏–Ω—É—Ç–∞)

```bash
cd psybooking-bot
pip3 install -r requirements.txt
```

## –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞ (2 –º–∏–Ω—É—Ç—ã)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è: `PsyBooking Test Bot`
4. –í–≤–µ–¥–∏—Ç–µ username: `psybooking_test_bot` (–∏–ª–∏ –¥—Ä—É–≥–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ `123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11`)

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞ (1 –º–∏–Ω—É—Ç–∞)

–í @BotFather –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/setcommands`, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ:

```
start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
book - –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
slots - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã
mybookings - –ú–æ–∏ –∑–∞–ø–∏—Å–∏
help - –°–ø—Ä–∞–≤–∫–∞
```

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Calendar (3 –º–∏–Ω—É—Ç—ã)

### 4.1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç (–∫–Ω–æ–ø–∫–∞ –≤–≤–µ—Ä—Ö—É —Å–ª–µ–≤–∞)
3. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ `PsyBooking Bot`

### 4.2. –í–∫–ª—é—á–µ–Ω–∏–µ Calendar API

1. –ú–µ–Ω—é —Å–ª–µ–≤–∞ ‚Üí APIs & Services ‚Üí Library
2. –ù–∞–π–¥–∏—Ç–µ "Google Calendar API"
3. –ù–∞–∂–º–∏—Ç–µ "Enable"

### 4.3. –°–æ–∑–¥–∞–Ω–∏–µ credentials

1. APIs & Services ‚Üí Credentials
2. Configure Consent Screen (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è):
   - User Type: External
   - App name: PsyBooking Bot
   - Your email
   - Save and Continue (–æ—Å—Ç–∞–ª—å–Ω–æ–µ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)
3. Create Credentials ‚Üí OAuth client ID
4. Application type: **Desktop app**
5. Name: PsyBooking Bot
6. Create
7. **Download JSON** ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `credentials.json` –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (1 –º–∏–Ω—É—Ç–∞)

```bash
cp .env.example .env
nano .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ:

```env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_botfather
GOOGLE_CALENDAR_ID=primary
ADMIN_TELEGRAM_IDS=–≤–∞—à_telegram_id
```

**–ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID:**
- –ù–∞–ø–∏—à–∏—Ç–µ [@userinfobot](https://t.me/userinfobot)

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª (Ctrl+O, Enter, Ctrl+X).

## –®–∞–≥ 6: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (30 —Å–µ–∫—É–Ω–¥)

```bash
python3 manage.py init
```

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: `‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!`

## –®–∞–≥ 7: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Google (1 –º–∏–Ω—É—Ç–∞)

```bash
python3 bot.py
```

1. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä —Å –∑–∞–ø—Ä–æ—Å–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Google
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∞
3. –ù–∞–∂–º–∏—Ç–µ "–†–∞–∑—Ä–µ—à–∏—Ç—å"
4. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: `–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...`

## –®–∞–≥ 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1 –º–∏–Ω—É—Ç–∞)

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –ø–æ username
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è"
4. –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Google Calendar - –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–±—ã—Ç–∏–µ!

## –ì–æ—Ç–æ–≤–æ! üéâ

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç! –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:

### –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–∏–µ
python3 manage.py working-hours show

# –ò–∑–º–µ–Ω–∏—Ç—å –¥–ª—è –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞ (–¥–µ–Ω—å 1)
python3 manage.py working-hours set 1 09:00 18:00
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–∏—Å–∏

```bash
python3 manage.py bookings show
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã

```bash
python3 manage.py slots
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- üìñ –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [README.md](README.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- üöÄ –ò–∑—É—á–∏—Ç–µ [DEPLOYMENT.md](DEPLOYMENT.md) –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- üí° –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [EXAMPLES.md](EXAMPLES.md) –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚ùì –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [FAQ.md](FAQ.md) –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.env`

### –û—à–∏–±–∫–∞ Google Calendar

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Calendar API –≤–∫–ª—é—á–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `credentials.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞–ª–∏—Ç—å `data/token.pickle` –∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ

### –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã: `python3 manage.py working-hours show`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–Ω–∏ –∞–∫—Ç–∏–≤–Ω—ã (`is_active = 1`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö —Å–æ–±—ã—Ç–∏–π

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞

–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

## –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ (Linux/Mac)

```bash
nohup python3 bot.py > bot.log 2>&1 &
```

–û—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
pkill -f "python3 bot.py"
```

---

**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!** –í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å—Ç–∏–ª–∏ PsyBooking Bot! üéä
